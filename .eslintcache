[{"/Users/rakshit/Desktop/react-infinite-scroll/src/index.js":"1","/Users/rakshit/Desktop/react-infinite-scroll/src/reportWebVitals.js":"2","/Users/rakshit/Desktop/react-infinite-scroll/src/App.js":"3","/Users/rakshit/Desktop/react-infinite-scroll/src/components/Loader.js":"4","/Users/rakshit/Desktop/react-infinite-scroll/src/components/Heading.js":"5","/Users/rakshit/Desktop/react-infinite-scroll/src/components/UnsplashImage.js":"6"},{"size":500,"mtime":1608012950467,"results":"7","hashOfConfig":"8"},{"size":362,"mtime":1608012950468,"results":"9","hashOfConfig":"8"},{"size":3311,"mtime":1608019391811,"results":"10","hashOfConfig":"8"},{"size":802,"mtime":1608015722941,"results":"11","hashOfConfig":"8"},{"size":485,"mtime":1608016239969,"results":"12","hashOfConfig":"8"},{"size":263,"mtime":1608015018253,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"t4fm8i",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"/Users/rakshit/Desktop/react-infinite-scroll/src/index.js",[],["28","29"],"/Users/rakshit/Desktop/react-infinite-scroll/src/reportWebVitals.js",[],"/Users/rakshit/Desktop/react-infinite-scroll/src/App.js",["30","31","32"],"import logo from './logo.svg';\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Heading } from './components/Heading';\nimport { Loader } from './components/Loader';\nimport { UnsplashImage } from './components/UnsplashImage';\nimport styled from 'styled-components'\nimport { createGlobalStyle } from 'styled-components'\nimport axios from 'axios';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n  body {\n    font-family: sans-serif;\n  }\n`;\n\nconst WrapperImages = styled.section`\n  max-width: 70rem;\n  margin: 4rem auto;\n  display: grid;\n  grid-gap: 1em;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  grid-auto-rows: 300px;\n`;\n\nconst Input = styled.input`\n    height: 2.5rem;\n    width: 20rem;\n    margin-top: 1em;\n    outline: none;\n    text-indent: 1em;\n    font-size: 1em;\n\n    ::placeholder {\n        font-size: .8em;\n    }\n`;\n\nconst Button = styled.button`\n    height: 2.5rem;\n    padding: 0 1em;\n    outline: none;\n    cursor: pointer;\n    background: #222;\n    border: none;\n    color: #fff;\n    font-size: 1em;\n`;\n\nlet page = 1\n\nfunction App() {\n  const [images, setImages] = useState([]);\n  const [query, setQuery] = useState('');\n  useEffect(() => {\n    console.log('true-po')\n    fetchImages();\n  }, [])\n\n  const fetchImages = () => {\n    console.log('true')\n    const apiRoot = 'https://api.unsplash.com';\n    axios.get(`${apiRoot}/photos/random?client_id=SS2xJ03UZU_mGL8tRvd8U4enJ74cOGRSReU4RNhAiuc&count=10`)\n      .then((response) => {\n        console.log(response.data, 'pop')\n        setImages([...images, ...response.data]);\n      })\n  }\n\n  const handleSearch = (event) => {\n    if (event?.target.value !== '') {\n      setQuery(event?.target.value)\n      var url = new URL(window.location.origin + window.location.pathname);\n      url.searchParams.append(\"search\", event?.target.value);\n      window.history.pushState(null, null, url);\n      const apiRoot = 'https://api.unsplash.com';\n      axios.get(`${apiRoot}/search/photos?client_id=SS2xJ03UZU_mGL8tRvd8U4enJ74cOGRSReU4RNhAiuc&query=${event?.target.value}`)\n        .then((response) => {\n          setImages([...response.data.results])\n        })\n    } else {\n      setQuery(event?.target.value)\n      fetchImages()\n    }\n  }\n\n  const searchInfinite = () => {\n    page = page + 1\n    console.log(page, 'p')\n    const apiRoot = 'https://api.unsplash.com';\n    axios.get(`${apiRoot}/search/photos?client_id=SS2xJ03UZU_mGL8tRvd8U4enJ74cOGRSReU4RNhAiuc&page=${page}&query=${query}`)\n      .then((response) => {\n        setImages([...images, ...response.data.results])\n      })\n  }\n\n  return (\n    <div className=\"App\">\n      <Heading />\n      <form>\n          <Input type=\"text\" placeholder=\"Search photos\" onChange={handleSearch}/>\n      </form>\n      <GlobalStyle />\n      <InfiniteScroll\n        dataLength={images.length}\n        next={query === '' ? fetchImages : searchInfinite}\n        hasMore={true}\n        loader={<Loader />}\n      >\n        <WrapperImages>\n          {images.map(image => (\n            <UnsplashImage url={image.urls.thumb} key={image.id} />\n          ))}\n        </WrapperImages>\n      </InfiniteScroll>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/rakshit/Desktop/react-infinite-scroll/src/components/Loader.js",[],"/Users/rakshit/Desktop/react-infinite-scroll/src/components/Heading.js",[],"/Users/rakshit/Desktop/react-infinite-scroll/src/components/UnsplashImage.js",[],{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","severity":1,"message":"38","line":1,"column":8,"nodeType":"39","messageId":"40","endLine":1,"endColumn":12},{"ruleId":"37","severity":1,"message":"41","line":45,"column":7,"nodeType":"39","messageId":"40","endLine":45,"endColumn":13},{"ruleId":"42","severity":1,"message":"43","line":64,"column":6,"nodeType":"44","endLine":64,"endColumn":8,"suggestions":"45"},"no-native-reassign",["46"],"no-negated-in-lhs",["47"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Button' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchImages'. Either include it or remove the dependency array.","ArrayExpression",["48"],"no-global-assign","no-unsafe-negation",{"desc":"49","fix":"50"},"Update the dependencies array to be: [fetchImages]",{"range":"51","text":"52"},[1382,1384],"[fetchImages]"]